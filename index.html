<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Christian Santamaria"> 
    <title>Bear-Ninja-Hunter Game</title>
    <style>
        body { font-family: Arial, sans-serif; }
        #gameResult { font-weight: bold; color: blue; }
    </style>
</head>
<body>
    <p id="gameResult">Welcome to Bear-Ninja-Hunter! Your results will appear here.</p>
    <script>
        // Store game options in an array
        const gameChoices = ["bear", "ninja", "hunter"];

        // Main game loop
        let keepPlaying = true; // Controls replay loop
        let totalGames = 0; // Tracks total games played
        let playerWins = 0; // Tracks player wins
        let computerWins = 0; // Tracks computer wins

        while (keepPlaying) {
            // 1. Prompt player for their name
            let playerName = prompt("Welcome to Bear-Ninja-Hunter! Please enter your name:");

            if (!playerName) {
                alert("Game canceled. Refresh the page to try again.");
                break;
            }

            alert("Hello " + playerName + "! Let's start the game.");

            // 2. Prompt player's choice
            let playerChoice = prompt("What is your choice? Type 'bear', 'ninja', or 'hunter':");

            if (!playerChoice) {
                alert("Invalid input. Please refresh the page and try again.");
                break;
            }

            // Force case to lowercase
            playerChoice = playerChoice.toLowerCase();

            // Validate input
            if (!gameChoices.includes(playerChoice)) {
                alert("Invalid choice! Please enter 'bear', 'ninja', or 'hunter' exactly.");
                continue;
            }

            // 3. Randomize computer's choice
            const computerChoice = gameChoices[Math.floor(Math.random() * gameChoices.length)];

            // 4. Countdown from 3 to 0
            console.log("Counting down:");
            for (let i = 3; i >= 0; i--) {
                console.log(i);
            }

            // 5. Determine game outcome
            let resultMessage = `${playerName}, you chose ${playerChoice}. The computer chose ${computerChoice}. `;
            let outcome;

            if (playerChoice === computerChoice) {
                outcome = "tie";
                resultMessage += "It's a tie!";
            } else if (
                (playerChoice === "bear" && computerChoice === "ninja") ||
                (playerChoice === "ninja" && computerChoice === "hunter") ||
                (playerChoice === "hunter" && computerChoice === "bear")
            ) {
                outcome = "win";
                resultMessage += "Congratulations, you win!";
                playerWins++;
            } else {
                outcome = "lose";
                resultMessage += "Sorry, the computer wins this time.";
                computerWins++;
            }

            // 6. Display results
            totalGames++;
            document.getElementById("gameResult").innerHTML = resultMessage;
            console.log(resultMessage);

            // 7. Prompt to play again
            let playAgain = prompt("Do you want to play again? Type 'yes' to continue or 'no' to quit:");

            if (!playAgain || playAgain.toLowerCase() !== "yes") {
                keepPlaying = false;
                alert(`Game over! You played ${totalGames} game(s).\nPlayer wins: ${playerWins}\nComputer wins: ${computerWins}`);
                document.getElementById("gameResult").innerHTML += `<br>Total games played: ${totalGames}. Player wins: ${playerWins}. Computer wins: ${computerWins}.`;
            }
        }
    </script>
</body>
</html>
